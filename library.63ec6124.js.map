{"mappings":"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","sources":["src/library.js","src/js/list-library.js","src/js/functions/libraryRenderNumberOfCard.js","src/js/functions/libraryRenderButtonLoadMore.js","src/js/functions/libraryAllGanresList.js","src/js/functions/libraryArrayFilterOnGanre.js","src/js/functions/libraryPageRendToGanre.js","src/js/functions/libraryClickToSetGanre.js","src/js/functions/getGenresIdByGenres.js","src/js/functions/libraryRendListAllGanres.js","src/js/functions/libraryRendHtmlGanresBackdrop.js","src/js/functions/libraryRenderLoadMoreCard.js","src/js/functions/libraryRenderOppsText.js"],"sourcesContent":["// Library js\nimport './js/header';\nimport './js/mobile-menu';\nimport './js/hero';\nimport './js/list-library';\nimport './js/footer';\nimport { setGenresToSS } from './js/functions/setGenresToSS';\n\nsetGenresToSS();\n\nconst headerLibCurrent = document.querySelectorAll('[data-header-library]');\nheaderLibCurrent.forEach(i => i.classList.add('js-current'));\n","// Library Page - Library list section\nimport { generateMovieCardsMarkup } from './functions/generateMovieCardsMarkup';\nimport { libraryRenderOppsText } from './functions/libraryRenderOppsText';\nimport { libraryRenderNumberOfCard } from './functions/libraryRenderNumberOfCard';\nimport { libraryRenderLoadMoreCard } from './functions/libraryRenderLoadMoreCard';\nimport { libraryRenderButtonLoadMore } from './functions/libraryRenderButtonLoadMore';\nimport { libraryRendHtmlGanresBackdrop } from './functions/libraryRendHtmlGanresBackdrop';\nimport { libraryAllGanresList } from './functions/libraryAllGanresList';\nimport { libraryRendListAllGanres } from './functions/libraryRendListAllGanres';\n\nexport const refs = {\n  libraryMovieList: document.querySelector('[data-library-list]'),\n  libraryOppsText: document.querySelector('[data-library-oops-text]'),\n  libraryFilterGanreBackdrop: document.querySelector(\n    '[data-library-filter-ganre]'\n  ),\n  LibraryFromLocalStorage: JSON.parse(localStorage.getItem('library')),\n};\n\n//================Сount how many pages we have with cards==============================\nexport let letRefs = {\n  totalLibraryPage: refs.LibraryFromLocalStorage\n    ? Math.ceil(refs.LibraryFromLocalStorage.length / 9)\n    : 0,\n  curentPage: 0,\n};\n\n//================Check LocalStorage====================================================\nif (!refs.LibraryFromLocalStorage || !refs.LibraryFromLocalStorage.length) {\n  //  renderLibraryOppsText();\n  libraryRenderOppsText();\n} else {\n  //====================render HTML dropback Filter  Ganres==========================================\n  //  renderFilterGanresBackdrop();\n  libraryRendHtmlGanresBackdrop();\n  //  Create list of Ganres All movies in Local Storage and render Backdrop with All Ganres\n  libraryRendListAllGanres(libraryAllGanresList(refs.LibraryFromLocalStorage));\n\n  //========================================\n  //==============if total page < 1 - render first page without button==================\n  if (letRefs.totalLibraryPage <= 1) {\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      refs.LibraryFromLocalStorage\n    );\n    refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n  } else {\n    //==============if page > 1 - render first page and Button \"load more\"==============\n\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      libraryRenderNumberOfCard(\n        refs.LibraryFromLocalStorage,\n        letRefs.curentPage\n      )\n    );\n\n    libraryRenderButtonLoadMore();\n    letRefs.curentPage += 1;\n\n    refs.libraryMovieList.classList.add('movie-cards-list-css');\n\n    //==================set event on Button \"Load more\"==================================\n    libraryLoadMoreBtn = document.querySelector('[data-load-more-btn]');\n    libraryLoadMoreBtn.addEventListener('click', libraryRenderLoadMoreCard);\n  }\n}\n","//import { refs } from '../list-library';\n//====================make arrayCard for every page=================================\nfunction libraryRenderNumberOfCard(array, n) {\n  return array.slice(9 * n, 9 * n + 9);\n}\n\nexport { libraryRenderNumberOfCard };\n","import { refs } from '../list-library';\nfunction libraryRenderButtonLoadMore() {\n  refs.libraryMovieList.insertAdjacentHTML(\n    'afterend',\n    `\n                        <div class=\"btn-load-more\" data-div-load-more-btn>\n                            <button type=\"button\" class=\"btn btn-filled\" data-load-more-btn>\n                            Load more\n                            </button>\n                        </div>`\n  );\n}\n\nexport { libraryRenderButtonLoadMore, loadButton };\n","import { getGenresByGenresId } from './getGenresByGenresId';\n\nfunction libraryAllGanresList(arr) {\n  const markup = arr.map(({ genre_ids, genres }) => {\n    const genresString = genre_ids\n      ? getGenresByGenresId(genre_ids)\n      : genres.map(genre => genre.name);\n\n    return genresString;\n  });\n\n  const arrayUnicalGanres = [...new Set(markup.flat())].sort();\n\n  arrayUnicalGanres.splice(0, 0, 'All');\n  console.log('arrayUnicalGanres:', arrayUnicalGanres);\n  return arrayUnicalGanres;\n}\n\nexport { libraryAllGanresList };\n","import { refs } from '../list-library';\nfunction libraryArrayFilterOnGanre(ganre) {\n  console.log('ganre:', ganre);\n  //  console.log(refs.LibraryFromLocalStorage);\n  const filterArrayMovies = [];\n\n  refs.LibraryFromLocalStorage.map(element => {\n    //console.log('element: ', element);\n    const genresString = element.genre_ids\n      ? element.genre_ids\n      : element.genres.map(genre => genre.id);\n    //console.log('genresString: ', genresString);\n    //console.log('ganre: ', ganre);\n    if (genresString.includes(...ganre)) {\n      filterArrayMovies.push(element);\n      //  console.log('filterArrayMovies: ', filterArrayMovies);\n    }\n  });\n\n  //  console.log('filterArrayMovies: ', filterArrayMovies);\n  return filterArrayMovies;\n}\n\nexport { libraryArrayFilterOnGanre };\n","import { generateMovieCardsMarkup } from './generateMovieCardsMarkup';\nimport { libraryRenderNumberOfCard } from './libraryRenderNumberOfCard';\nimport { libraryRenderButtonLoadMore } from './libraryRenderButtonLoadMore';\n\nimport { refs } from '../list-library';\n\n//нахожу кнопку лоад море для подальшего ее удаления при  рендере жанров\n\n//=================================конец===============================\n\nfunction libraryPageRendToGanre(\n  totalFiltretPageOnLibrary,\n  FilterGanreCurentPage,\n  arrayFilteredMoviesToRender\n) {\n  //  console.log('totalLibraryPage:', totalFiltretPageOnLibrary);\n  //  libraryRenderButtonLoadMore();\n  libraryLoadMoreBtn = document.querySelector('[data-load-more-btn]');\n  console.log(libraryLoadMoreBtn);\n  if (totalFiltretPageOnLibrary <= 1) {\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      arrayFilteredMoviesToRender\n    );\n    //refs.libraryMovieList.classList.add('movie-cards-list-css');\n    //refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n    if (libraryLoadMoreBtn) {\n      libraryLoadMoreBtn.remove();\n    }\n  } else {\n    //==============if page > 1 - render first page and Button \"load more\"==============\n\n    refs.libraryMovieList.innerHTML = generateMovieCardsMarkup(\n      libraryRenderNumberOfCard(\n        arrayFilteredMoviesToRender,\n        FilterGanreCurentPage\n      )\n    );\n    console.log('libraryLoadMoreBtn:', libraryLoadMoreBtn);\n    if (!libraryLoadMoreBtn) {\n      libraryRenderButtonLoadMore();\n      console.log('if-libraryLoadMoreBtn:', !libraryLoadMoreBtn);\n      FilterGanreCurentPage += 1;\n\n      refs.libraryMovieList.classList.add('movie-cards-list-css');\n      //==================set event on Button \"Load more\"==================================\n      libraryLoadMoreBtn = document.querySelector('[data-load-more-btn]');\n      libraryLoadMoreBtn.addEventListener(\n        'click',\n        libraryRenderLoadMoreCardToFilterGanres\n      );\n    }\n    //  totalFiltretPageOnLibrary, FilterGanreCurentPage, arrayFilteredMoviesToRender\n  }\n  function libraryRenderLoadMoreCardToFilterGanres() {\n    console.log('total:', totalFiltretPageOnLibrary);\n    console.log('curent:', FilterGanreCurentPage);\n    console.log('array:', arrayFilteredMoviesToRender);\n    //==================read div of button to delete div if no btn for css================================\n    libraryDivLoadMoreBtn = document.querySelector('[data-div-load-more-btn]');\n    console.log('libraryDivLoadMoreBtn:', libraryDivLoadMoreBtn);\n    // =================if the last page is left - render and hide the button============\n    if (totalFiltretPageOnLibrary === FilterGanreCurentPage + 1) {\n      refs.libraryMovieList.insertAdjacentHTML(\n        'beforeend',\n        generateMovieCardsMarkup(\n          libraryRenderNumberOfCard(\n            arrayFilteredMoviesToRender,\n            FilterGanreCurentPage\n          )\n        )\n      );\n      refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n      refs.libraryMovieList.classList.remove('movie-cards-list-css');\n      libraryDivLoadMoreBtn.remove();\n    } else {\n      //=================render next page and add +1 to  cuontpage=======================\n      refs.libraryMovieList.insertAdjacentHTML(\n        'beforeend',\n        generateMovieCardsMarkup(\n          libraryRenderNumberOfCard(\n            arrayFilteredMoviesToRender,\n            FilterGanreCurentPage\n          )\n        )\n      );\n      FilterGanreCurentPage += 1;\n    }\n  }\n}\n\nexport { libraryPageRendToGanre };\n","//import { generateMovieCardsMarkup } from './generateMovieCardsMarkup';\n\nimport { getGenresIdByGenres } from './getGenresIdByGenres';\nimport { libraryArrayFilterOnGanre } from './libraryArrayFilterOnGanre';\nimport { libraryPageRendToGanre } from './libraryPageRendToGanre';\nimport { listLibrary } from '../list-library';\n\nfunction libraryClickToSetGanre(evt) {\n  console.log(evt);\n  if (evt == 'All') {\n    console.log('Yes');\n    location.reload();\n    //рендерим все жанры\n  } else {\n    const idFilterGanre = getGenresIdByGenres([`${evt}`]);\n    console.log('idFilterGanre: ', idFilterGanre);\n\n    const arrayFilteredMoviesToRender =\n      libraryArrayFilterOnGanre(idFilterGanre);\n\n    console.log('arrayFilteredMoviesToRender:', arrayFilteredMoviesToRender);\n\n    //  console.log(filterArrayMovies);\n    const totalFiltretPageOnLibrary = arrayFilteredMoviesToRender\n      ? Math.ceil(arrayFilteredMoviesToRender.length / 9)\n      : 0;\n\n    //  console.log('totalFiltretPageOnLibrary:', totalFiltretPageOnLibrary);\n    let FilterGanreCurentPage = 0;\n    libraryPageRendToGanre(\n      totalFiltretPageOnLibrary,\n      FilterGanreCurentPage,\n      arrayFilteredMoviesToRender\n    );\n  }\n}\n\nexport { libraryClickToSetGanre };\n","/**\n *\n * @param {Array} genresArr Array of genres\n * @returns {Array} Array of ids (numbers) as a result\n */\nfunction getGenresIdByGenres(genresArr) {\n  const allGenres = JSON.parse(sessionStorage.getItem('genres'));\n\n  const ids = genresArr.map(genre => {\n    const genresObjects = allGenres.genres.find(\n      object => object.name === genre\n    );\n\n    return genresObjects.id;\n  });\n\n  return ids;\n}\n\nexport { getGenresIdByGenres };\n","import { libraryClickToSetGanre } from './libraryClickToSetGanre';\n//const root = document.documentElement;\n//const dropdownTitleIcon = document.querySelector('.dropdown-title-icon');\n//const dropdownTitle = document.querySelector('.dropdown-title');\n//const dropdownList = document.querySelector('.dropdown-list');\n//const mainButton = document.querySelector('.main-button');\n//const floatingIcon = document.querySelector('.floating-icon');\n//const icons = {};\n\nfunction libraryRendListAllGanres(arrayUnicalGanres) {\n  console.log('arrayUnicalGanres:', arrayUnicalGanres);\n  const root = document.documentElement;\n  const dropdownTitleIcon = document.querySelector('.dropdown-title-icon');\n  const dropdownTitle = document.querySelector('.dropdown-title');\n  const dropdownList = document.querySelector('.dropdown-list');\n  const mainButton = document.querySelector('.main-button');\n  const floatingIcon = document.querySelector('.floating-icon');\n  const icons = {};\n  const listItems = arrayUnicalGanres;\n\n  for (let i = 0; i < listItems.length; i++) {\n    icons[listItems[i]] =\n      'M430 460h30V351.327a258.217 258.217 0 0 1-30 44.817V460zM230 0C102.975 0 0 102.975 0 230s102.975 230 230 230 230-102.975 230-230S357.025 0 230 0zm0 40c30.376 0 55 24.624 55 55s-24.624 55-55 55-55-24.624-55-55 24.624-55 55-55zM46.607 188.283c0-30.376 24.624-55 55-55 30.375 0 55 24.624 55 55 0 30.375-24.625 55-55 55s-55-24.625-55-55zm104.042 205.934c-30.375 0-55-24.624-55-55s24.625-55 55-55c30.376 0 55 24.624 55 55s-24.624 55-55 55zM230 250c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zm79.351 144.217c-30.376 0-55-24.624-55-55s24.624-55 55-55c30.375 0 55 24.624 55 55s-24.624 55-55 55zm49.042-150.934c-30.375 0-55-24.625-55-55 0-30.376 24.625-55 55-55 30.376 0 55 24.624 55 55 0 30.375-24.625 55-55 55z';\n  }\n\n  ////console.log(listItems);\n  ////console.log(icons);\n\n  //  const iconTemplate = path => {\n  //    return `\n  //      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" class=\"ganre-svg\">\n  //        <path d=\"${path}\" />\n  //      </svg>\n  //    `;\n  //  };\n\n  ////console.log(iconTemplate);\n\n  //  const listItemTemplate = (text, translateValue) => {\n  //    return `\n  //      <li class=\"dropdown-list-item\">\n  //        <button class=\"dropdown-button list-button\"  data-translate-value=\"${translateValue}%\">\n  //          <span class=\"text-truncate text-btn\">${text}</span>\n  //        </button>\n  //      </li>\n  //    `;\n  //  };\n  //  listItemTemplate(text, translateValue);\n\n  //  function renderListItems() {\n  //    dropdownList.innerHTML += listItems\n  //      .map((item, index) => {\n  //        return listItemTemplate(item, 100 * index);\n  //      })\n  //      .join('');\n  //  }\n\n  window.addEventListener('load', () => {\n    renderListItems(listItems, dropdownList);\n  });\n\n  const setDropdownProps = (deg, ht, opacity) => {\n    root.style.setProperty('--rotate-arrow', deg !== 0 ? deg + 'deg' : 0);\n    root.style.setProperty('--dropdown-height', ht !== 0 ? ht + 'rem' : 0);\n    root.style.setProperty('--list-opacity', opacity);\n  };\n\n  mainButton.addEventListener('click', () => {\n    const listWrapperSizes = 3.5; // margins, paddings & borders\n    const dropdownOpenHeight = 4.6 * listItems.length + listWrapperSizes;\n    const currDropdownHeight =\n      root.style.getPropertyValue('--dropdown-height') || '0';\n\n    currDropdownHeight === '0'\n      ? setDropdownProps(180, dropdownOpenHeight, 1)\n      : setDropdownProps(0, 0, 0);\n  });\n\n  dropdownList.addEventListener('mouseover', e => {\n    const translateValue = e.target.dataset.translateValue;\n    root.style.setProperty('--translate-value', translateValue);\n  });\n\n  dropdownList.addEventListener('click', e => {\n    const clickedItemText = e.target.innerText.trim();\n    console.log(clickedItemText);\n    libraryClickToSetGanre(clickedItemText);\n    const clickedItemIcon = icons[clickedItemText];\n\n    dropdownTitleIcon.innerHTML = iconTemplate(clickedItemIcon);\n    dropdownTitle.innerHTML = clickedItemText;\n    setDropdownProps(0, 0, 0);\n  });\n\n  dropdownList.addEventListener('mousemove', e => {\n    const iconSize = root.style.getPropertyValue('--floating-icon-size') || 0;\n    const x = e.clientX - dropdownList.getBoundingClientRect().x;\n    const y = e.clientY - dropdownList.getBoundingClientRect().y;\n    const targetText = e.target.innerText.trim();\n    const hoverItemText = icons[targetText];\n\n    floatingIcon.innerHTML = iconTemplate(hoverItemText);\n    root.style.setProperty('--floating-icon-left', x - iconSize / 2 + 'px');\n    root.style.setProperty('--floating-icon-top', y - iconSize / 2 + 'px');\n  });\n}\n\nfunction renderListItems(listItems, dropdownList) {\n  dropdownList.innerHTML += listItems\n    .map((item, index) => {\n      return listItemTemplate(item, 100 * index);\n    })\n    .join('');\n}\n\nfunction listItemTemplate(text, translateValue) {\n  return `\n      <li class=\"dropdown-list-item\">\n        <button class=\"dropdown-button list-button\"  data-translate-value=\"${translateValue}%\">\n          <span class=\"text-truncate text-btn\">${text}</span>\n        </button>\n      </li>\n    `;\n}\n\nfunction iconTemplate(path) {\n  return `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" class=\"ganre-svg\">\n            <path d=\"${path}\" />\n          </svg>\n        `;\n}\n\nexport { libraryRendListAllGanres };\n","import { refs } from '../list-library';\n\nfunction libraryRendHtmlGanresBackdrop() {\n  refs.libraryFilterGanreBackdrop.innerHTML = `\n  <button class=\"dropdown-button main-button\">\n  <span class=\"dropdown-title-icon\">\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      class=\"ganre-svg\"\n    >\n      <path\n        d=\"M430 460h30V351.327a258.217 258.217 0 0 1-30 44.817V460zM230 0C102.975 0 0 102.975 0 230s102.975 230 230 230 230-102.975 230-230S357.025 0 230 0zm0 40c30.376 0 55 24.624 55 55s-24.624 55-55 55-55-24.624-55-55 24.624-55 55-55zM46.607 188.283c0-30.376 24.624-55 55-55 30.375 0 55 24.624 55 55 0 30.375-24.625 55-55 55s-55-24.625-55-55zm104.042 205.934c-30.375 0-55-24.624-55-55s24.625-55 55-55c30.376 0 55 24.624 55 55s-24.624 55-55 55zM230 250c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zm79.351 144.217c-30.376 0-55-24.624-55-55s24.624-55 55-55c30.375 0 55 24.624 55 55s-24.624 55-55 55zm49.042-150.934c-30.375 0-55-24.625-55-55 0-30.376 24.625-55 55-55 30.376 0 55 24.624 55 55 0 30.375-24.625 55-55 55z\"\n      />\n    </svg>\n  </span>\n  <span class=\"dropdown-title text-truncate text-mein-btn\">Genre</span>\n  <span class=\"dropdown-arrow\">\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 16 16\"\n      class=\"ganre-svg\"\n    >\n      <path\n        d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"\n      />\n    </svg>\n  </span>\n</button>\n<div class=\"dropdown-list-container\">\n  <div class=\"dropdown-list-wrapper\">\n    <ul class=\"dropdown-list\"></ul>\n    <div class=\"floating-icon\" aria-hidden=\"true\"></div>\n  </div>\n</div>\n        `;\n  //  refs.libraryFilterGanreBackdrop.classList.add('library-ops-text-css');\n}\n\nexport { libraryRendHtmlGanresBackdrop };\n","import { refs } from '../list-library';\nimport { letRefs } from '../list-library';\nimport { generateMovieCardsMarkup } from './generateMovieCardsMarkup';\nimport { libraryRenderNumberOfCard } from './libraryRenderNumberOfCard';\n\nfunction libraryRenderLoadMoreCard() {\n  //==================read div of button to delete div if no btn for css================================\n  libraryDivLoadMoreBtn = document.querySelector('[data-div-load-more-btn]');\n  console.log(libraryDivLoadMoreBtn);\n  // =================if the last page is left - render and hide the button============\n  if (letRefs.totalLibraryPage === letRefs.curentPage + 1) {\n    refs.libraryMovieList.insertAdjacentHTML(\n      'beforeend',\n      generateMovieCardsMarkup(\n        libraryRenderNumberOfCard(\n          refs.LibraryFromLocalStorage,\n          letRefs.curentPage\n        )\n      )\n    );\n    refs.libraryMovieList.classList.add('movie-cards-list-css-no-btn');\n    refs.libraryMovieList.classList.remove('movie-cards-list-css');\n    libraryDivLoadMoreBtn.remove();\n  } else {\n    //=================render next page and add +1 to  cuontpage=======================\n    refs.libraryMovieList.insertAdjacentHTML(\n      'beforeend',\n      generateMovieCardsMarkup(\n        libraryRenderNumberOfCard(\n          refs.LibraryFromLocalStorage,\n          letRefs.curentPage\n        )\n      )\n    );\n    letRefs.curentPage += 1;\n  }\n}\n\nexport { libraryRenderLoadMoreCard };\n","import { refs } from '../list-library';\nfunction libraryRenderOppsText() {\n  refs.libraryOppsText.innerHTML = `\n        <p>OOPS...<br>\n        We are very sorry!<br>\n        You don’t have any movies at your library.</p>\n          <div class=\"btn-list-search\">\n          <a  href=\"./catalogue.html\" class=\"btn btn-filled\">\n          Search movie\n          </a>\n          </div>\n        `;\n  refs.libraryOppsText.classList.add('library-ops-text-css');\n}\n\nexport { libraryRenderOppsText };\n"],"names":["parcelRequire","$2xcQJ","$910cc62e7394d9a9$export$f15619dce1fe0494","array","n","slice","$9c1ad9a367bec2e4$export$b91804a765003bac","$164d6b9b3e69aac3$export$21666b427502ea6d","libraryMovieList","insertAdjacentHTML","$8nrFW","$c0a9428f0324f66b$export$9c5568add104c463","ganre","console","log","filterArrayMovies","LibraryFromLocalStorage","map","element","_genresString","genre_ids","genres","genre","id","includes","apply","$parcel$interopDefault","push","$5c4e85af930c0c55$export$3ae9ab0a212dcf8b","totalFiltretPageOnLibrary","FilterGanreCurentPage","arrayFilteredMoviesToRender","libraryLoadMoreBtn","document","querySelector","innerHTML","generateMovieCardsMarkup","remove","classList","add","addEventListener","libraryDivLoadMoreBtn","$1c6b9dcf4a526a4b$export$9eb1efe2c1f613ce","evt","location","reload","idFilterGanre","genresArr","concat","allGenres","JSON","parse","sessionStorage","getItem","find","object","name","Math","ceil","length","$eae0a8a63fbfc991$var$iconTemplate","path","arr","markup","arrayUnicalGanres","libraryOppsText","libraryFilterGanreBackdrop","localStorage","$164d6b9b3e69aac3$export$90f8e97de6521056","totalLibraryPage","curentPage","root","documentElement","dropdownTitleIcon","dropdownTitle","dropdownList","mainButton","floatingIcon","icons","listItems","i","window","item","index","text","join","$eae0a8a63fbfc991$var$renderListItems","setDropdownProps","deg","ht","opacity","style","setProperty","dropdownOpenHeight","getPropertyValue","e","translateValue","target","dataset","clickedItemText","innerText","trim","clickedItemIcon","iconSize","x","clientX","getBoundingClientRect","y","clientY","targetText","hoverItemText","param","$4cCwH","getGenresByGenresId","Set","flat","sort","splice","setGenresToSS","querySelectorAll","forEach"],"version":3,"file":"library.63ec6124.js.map"}