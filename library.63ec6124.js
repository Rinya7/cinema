!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){t[e]=r},r.parcelRequired7c6=o),o("i8Q71"),o("cs7FV"),o("gVa74");var a=o("2xcQJ");function i(e,r){return e.slice(9*r,9*r+9)}a=o("2xcQJ");function s(){p.libraryMovieList.insertAdjacentHTML("afterend",'\n                        <div class="btn-load-more" data-div-load-more-btn>\n                            <button type="button" class="btn btn-filled" data-load-more-btn>\n                            Load more\n                            </button>\n                        </div>')}var l=o("8nrFW"),c=o("4cCwH");l=o("8nrFW");function d(r){console.log("ganre:",r);var n=[];return p.LibraryFromLocalStorage.map((function(t){var o;(o=t.genre_ids?t.genre_ids:t.genres.map((function(e){return e.id}))).includes.apply(o,e(l)(r))&&n.push(t)})),n}a=o("2xcQJ");function u(e,r,n){libraryLoadMoreBtn=document.querySelector("[data-load-more-btn]"),console.log(libraryLoadMoreBtn),e<=1?(p.libraryMovieList.innerHTML=(0,a.generateMovieCardsMarkup)(n),libraryLoadMoreBtn&&libraryLoadMoreBtn.remove()):(p.libraryMovieList.innerHTML=(0,a.generateMovieCardsMarkup)(i(n,r)),console.log("libraryLoadMoreBtn:",libraryLoadMoreBtn),libraryLoadMoreBtn||(s(),console.log("if-libraryLoadMoreBtn:",!libraryLoadMoreBtn),r+=1,p.libraryMovieList.classList.add("movie-cards-list-css"),libraryLoadMoreBtn=document.querySelector("[data-load-more-btn]"),libraryLoadMoreBtn.addEventListener("click",(function(){console.log("total:",e),console.log("curent:",r),console.log("array:",n),libraryDivLoadMoreBtn=document.querySelector("[data-div-load-more-btn]"),console.log("libraryDivLoadMoreBtn:",libraryDivLoadMoreBtn),e===r+1?(p.libraryMovieList.insertAdjacentHTML("beforeend",(0,a.generateMovieCardsMarkup)(i(n,r))),p.libraryMovieList.classList.add("movie-cards-list-css-no-btn"),p.libraryMovieList.classList.remove("movie-cards-list-css"),libraryDivLoadMoreBtn.remove()):(p.libraryMovieList.insertAdjacentHTML("beforeend",(0,a.generateMovieCardsMarkup)(i(n,r))),r+=1)}))))}function y(e){if(console.log(e),"All"==e)console.log("Yes"),location.reload();else{var r=(t=["".concat(e)],o=JSON.parse(sessionStorage.getItem("genres")),t.map((function(e){return o.genres.find((function(r){return r.name===e})).id})));console.log("idFilterGanre: ",r);var n=d(r);console.log("arrayFilteredMoviesToRender:",n);u(n?Math.ceil(n.length/9):0,0,n)}var t,o}function v(e){return'\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="ganre-svg">\n            <path d="'.concat(e,'" />\n          </svg>\n        ')}var g,b,L,p={libraryMovieList:document.querySelector("[data-library-list]"),libraryOppsText:document.querySelector("[data-library-oops-text]"),libraryFilterGanreBackdrop:document.querySelector("[data-library-filter-ganre]"),LibraryFromLocalStorage:JSON.parse(localStorage.getItem("library"))},m={totalLibraryPage:p.LibraryFromLocalStorage?Math.ceil(p.LibraryFromLocalStorage.length/9):0,curentPage:0};p.LibraryFromLocalStorage&&p.LibraryFromLocalStorage.length?(p.libraryFilterGanreBackdrop.innerHTML='\n  <button class="dropdown-button main-button">\n  <span class="dropdown-title-icon">\n    <svg\n      xmlns="http://www.w3.org/2000/svg"\n      viewBox="0 0 512 512"\n      class="ganre-svg"\n    >\n      <path\n        d="M430 460h30V351.327a258.217 258.217 0 0 1-30 44.817V460zM230 0C102.975 0 0 102.975 0 230s102.975 230 230 230 230-102.975 230-230S357.025 0 230 0zm0 40c30.376 0 55 24.624 55 55s-24.624 55-55 55-55-24.624-55-55 24.624-55 55-55zM46.607 188.283c0-30.376 24.624-55 55-55 30.375 0 55 24.624 55 55 0 30.375-24.625 55-55 55s-55-24.625-55-55zm104.042 205.934c-30.375 0-55-24.624-55-55s24.625-55 55-55c30.376 0 55 24.624 55 55s-24.624 55-55 55zM230 250c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zm79.351 144.217c-30.376 0-55-24.624-55-55s24.624-55 55-55c30.375 0 55 24.624 55 55s-24.624 55-55 55zm49.042-150.934c-30.375 0-55-24.625-55-55 0-30.376 24.625-55 55-55 30.376 0 55 24.624 55 55 0 30.375-24.625 55-55 55z"\n      />\n    </svg>\n  </span>\n  <span class="dropdown-title text-truncate text-mein-btn">Genre</span>\n  <span class="dropdown-arrow">\n    <svg\n      xmlns="http://www.w3.org/2000/svg"\n      viewBox="0 0 16 16"\n      class="ganre-svg"\n    >\n      <path\n        d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"\n      />\n    </svg>\n  </span>\n</button>\n<div class="dropdown-list-container">\n  <div class="dropdown-list-wrapper">\n    <ul class="dropdown-list"></ul>\n    <div class="floating-icon" aria-hidden="true"></div>\n  </div>\n</div>\n        ',function(e){console.log("arrayUnicalGanres:",e);for(var r=document.documentElement,n=document.querySelector(".dropdown-title-icon"),t=document.querySelector(".dropdown-title"),o=document.querySelector(".dropdown-list"),a=document.querySelector(".main-button"),i=document.querySelector(".floating-icon"),s={},l=e,c=0;c<l.length;c++)s[l[c]]="M430 460h30V351.327a258.217 258.217 0 0 1-30 44.817V460zM230 0C102.975 0 0 102.975 0 230s102.975 230 230 230 230-102.975 230-230S357.025 0 230 0zm0 40c30.376 0 55 24.624 55 55s-24.624 55-55 55-55-24.624-55-55 24.624-55 55-55zM46.607 188.283c0-30.376 24.624-55 55-55 30.375 0 55 24.624 55 55 0 30.375-24.625 55-55 55s-55-24.625-55-55zm104.042 205.934c-30.375 0-55-24.624-55-55s24.625-55 55-55c30.376 0 55 24.624 55 55s-24.624 55-55 55zM230 250c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zm79.351 144.217c-30.376 0-55-24.624-55-55s24.624-55 55-55c30.375 0 55 24.624 55 55s-24.624 55-55 55zm49.042-150.934c-30.375 0-55-24.625-55-55 0-30.376 24.625-55 55-55 30.376 0 55 24.624 55 55 0 30.375-24.625 55-55 55z";window.addEventListener("load",(function(){!function(e,r){r.innerHTML+=e.map((function(e,r){return n=e,'\n      <li class="dropdown-list-item">\n        <button class="dropdown-button list-button"  data-translate-value="'.concat(100*r,'%">\n          <span class="text-truncate text-btn">').concat(n,"</span>\n        </button>\n      </li>\n    ");var n})).join("")}(l,o)}));var d=function(e,n,t){r.style.setProperty("--rotate-arrow",0!==e?e+"deg":0),r.style.setProperty("--dropdown-height",0!==n?n+"rem":0),r.style.setProperty("--list-opacity",t)};a.addEventListener("click",(function(){var e=4.6*l.length+3.5;"0"===(r.style.getPropertyValue("--dropdown-height")||"0")?d(180,e,1):d(0,0,0)})),o.addEventListener("mouseover",(function(e){var n=e.target.dataset.translateValue;r.style.setProperty("--translate-value",n)})),o.addEventListener("click",(function(e){var r=e.target.innerText.trim();console.log(r),y(r);var o=s[r];n.innerHTML=v(o),t.innerHTML=r,d(0,0,0)})),o.addEventListener("mousemove",(function(e){var n=r.style.getPropertyValue("--floating-icon-size")||0,t=e.clientX-o.getBoundingClientRect().x,a=e.clientY-o.getBoundingClientRect().y,l=e.target.innerText.trim(),c=s[l];i.innerHTML=v(c),r.style.setProperty("--floating-icon-left",t-n/2+"px"),r.style.setProperty("--floating-icon-top",a-n/2+"px")}))}((g=p.LibraryFromLocalStorage,b=g.map((function(e){var r=e.genre_ids,n=e.genres;return r?(0,c.getGenresByGenresId)(r):n.map((function(e){return e.name}))})),(L=e(l)(new Set(b.flat())).sort()).splice(0,0,"All"),console.log("arrayUnicalGanres:",L),L)),m.totalLibraryPage<=1?(p.libraryMovieList.innerHTML=(0,a.generateMovieCardsMarkup)(p.LibraryFromLocalStorage),p.libraryMovieList.classList.add("movie-cards-list-css-no-btn")):(p.libraryMovieList.innerHTML=(0,a.generateMovieCardsMarkup)(i(p.LibraryFromLocalStorage,m.curentPage)),s(),m.curentPage+=1,p.libraryMovieList.classList.add("movie-cards-list-css"),libraryLoadMoreBtn=document.querySelector("[data-load-more-btn]"),libraryLoadMoreBtn.addEventListener("click",(function(){libraryDivLoadMoreBtn=document.querySelector("[data-div-load-more-btn]"),console.log(libraryDivLoadMoreBtn),m.totalLibraryPage===m.curentPage+1?(p.libraryMovieList.insertAdjacentHTML("beforeend",(0,a.generateMovieCardsMarkup)(i(p.LibraryFromLocalStorage,m.curentPage))),p.libraryMovieList.classList.add("movie-cards-list-css-no-btn"),p.libraryMovieList.classList.remove("movie-cards-list-css"),libraryDivLoadMoreBtn.remove()):(p.libraryMovieList.insertAdjacentHTML("beforeend",(0,a.generateMovieCardsMarkup)(i(p.LibraryFromLocalStorage,m.curentPage))),m.curentPage+=1)})))):(p.libraryOppsText.innerHTML='\n        <p>OOPS...<br>\n        We are very sorry!<br>\n        You donâ€™t have any movies at your library.</p>\n          <div class="btn-list-search">\n          <a  href="./catalogue.html" class="btn btn-filled">\n          Search movie\n          </a>\n          </div>\n        ',p.libraryOppsText.classList.add("library-ops-text-css")),o("7hKzD"),(0,o("9qBU4").setGenresToSS)(),document.querySelectorAll("[data-header-library]").forEach((function(e){return e.classList.add("js-current")}))}();
//# sourceMappingURL=library.63ec6124.js.map
